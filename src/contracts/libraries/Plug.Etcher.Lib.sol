// SPDX-License-Identifier: MIT

pragma solidity 0.8.18;

import { ImmutableCreate2Factory } from
    "../interfaces/Deployment.Create2Factory.Interface.sol";
import { PlugLib } from "../libraries/Plug.Lib.sol";
import { PlugBaseFeeFuse } from "../fuses/Plug.BaseFee.Fuse.sol";
import { PlugBlockNumberFuse } from "../fuses/Plug.BlockNumber.Fuse.sol";
import { PlugClampFuse } from "../fuses/Plug.Clamp.Fuse.sol";
import { PlugFactory } from "../base/Plug.Factory.sol";
import { PlugLimitedCallsFuse } from "../fuses/Plug.LimitedCalls.Fuse.sol";
import { PlugNounsIdFuse } from "../fuses/Plug.NounsId.Fuse.sol";
import { PlugNounsTraitFuse } from "../fuses/Plug.NounsTrait.Fuse.sol";
import { PlugRevocationFuse } from "../fuses/Plug.Revocation.Fuse.sol";
import { PlugTimestampFuse } from "../fuses/Plug.Timestamp.Fuse.sol";
import { PlugTreasury } from "../base/Plug.Treasury.sol";
import { PlugWindowFuse } from "../fuses/Plug.Window.Fuse.sol";
import { Plug } from "../base/Plug.sol";

/**
 * @title Plug Etcher
 * @notice This contract is the basis of the automatically generated Plug Etcher
 *         contract used to deploy and write the proper addresses. If you need to add
 *         a new etch into the vm stack for testing, you will do so through the file
 *         found at: /lib/functions/etcher.ts
 * @notice A good portion of this model comes from:
 *         https://github.com/Vectorized/multicaller/blob/main/src/MulticallerEtcher.sol
 *         I am not a Foundry expert. If there is a better way to do this, please let me
 *         know because this is a lot of work just to get a contract deployed when you're
 *         doing anything more than a simple in-and-out contract.
 * @author vectorized (twitter:@optimizoor)
 */
library PlugEtcherLib {
    /// @notice The immutable Create2 factory used for deployment.
    ImmutableCreate2Factory internal constant FACTORY =
        ImmutableCreate2Factory(0x0000000000FFe8B47B3e2130213B802212439497);

    bytes internal constant PLUG_BASE_FEE_FUSE_INITCODE =
        hex"6080806040523461001657610619908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a575080631323692a146100455763e5c5e9a31461004057600080fd5b610223565b610181565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103fc565b60405191829182610137565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60005b8381106101275750506000910152565b8181015183820152602001610117565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6040936020845261017a8151809281602088015260208888019101610114565b0116010190565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f576004356fffffffffffffffffffffffffffffffff808216820361010f57602435908116810361010f576100d291604051917fffffffffffffffffffffffffffffffff00000000000000000000000000000000809260801b16602084015260801b166030820152602081526100c6816102e4565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761027d61027760409236906004016100e1565b9061053d565b82516fffffffffffffffffffffffffffffffff928316815291166020820152f35b906102b160209282815194859201610114565b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761030057604052565b6102b5565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761030057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161030057604051916103df60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184610305565b82948184528183011161010f578281602093846000960137010152565b906104069161053d565b6fffffffffffffffffffffffffffffffff90811691166104f15748116104425761043861043f915b6040810190610346565b3691610397565b90565b6104ed6104666104bb6104536105d3565b61048f604051938492602084019061029e565b7f3a65787069726564000000000000000000000000000000000000000000000000815260080190565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610305565b6040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610137565b0390fd5b48106105035761043861043f9161042e565b6104ed6105146104bb6104536105d3565b7f3a6561726c790000000000000000000000000000000000000000000000000000815260060190565b91909161054b368483610397565b906010825110610575576010610565920151933691610397565b6020815110610575576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743132385f6f75744f66426f756e647300000000000000000000006044820152fd5b604051906105e0826102e4565b600f82527f506c756742617365466565467573650000000000000000000000000000000000602083015256fea164736f6c6343000812000a";

    bytes32 internal constant PLUG_BASE_FEE_FUSE_SALT =
        0x000000000000000000000000000000000000000082a0b2b4d1d7ff3f9329c712;

    address internal constant PLUG_BASE_FEE_FUSE_ADDRESS =
        0x006A92b51D287a386f1a97fE963d400826C7DA2d;

    bytes internal constant PLUG_BLOCK_NUMBER_FUSE_INITCODE =
        hex"6080806040523461001657610619908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a575080631323692a146100455763e5c5e9a31461004057600080fd5b610223565b610181565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103fc565b60405191829182610137565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60005b8381106101275750506000910152565b8181015183820152602001610117565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6040936020845261017a8151809281602088015260208888019101610114565b0116010190565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f576004356fffffffffffffffffffffffffffffffff808216820361010f57602435908116810361010f576100d291604051917fffffffffffffffffffffffffffffffff00000000000000000000000000000000809260801b16602084015260801b166030820152602081526100c6816102e4565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761027d61027760409236906004016100e1565b9061053d565b82516fffffffffffffffffffffffffffffffff928316815291166020820152f35b906102b160209282815194859201610114565b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761030057604052565b6102b5565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761030057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161030057604051916103df60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184610305565b82948184528183011161010f578281602093846000960137010152565b906104069161053d565b6fffffffffffffffffffffffffffffffff90811691166104f15743116104425761043861043f915b6040810190610346565b3691610397565b90565b6104ed6104666104bb6104536105d3565b61048f604051938492602084019061029e565b7f3a65787069726564000000000000000000000000000000000000000000000000815260080190565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610305565b6040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610137565b0390fd5b43106105035761043861043f9161042e565b6104ed6105146104bb6104536105d3565b7f3a6561726c790000000000000000000000000000000000000000000000000000815260060190565b91909161054b368483610397565b906010825110610575576010610565920151933691610397565b6020815110610575576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743132385f6f75744f66426f756e647300000000000000000000006044820152fd5b604051906105e0826102e4565b601382527f506c7567426c6f636b4e756d6265724675736500000000000000000000000000602083015256fea164736f6c6343000812000a";

    bytes32 internal constant PLUG_BLOCK_NUMBER_FUSE_SALT =
        0x00000000000000000000000000000000000000006b9a70236cd3ff3f3d363d51;

    address internal constant PLUG_BLOCK_NUMBER_FUSE_ADDRESS =
        0x00a360ae7713aA293DFb58Bb30B67Fa3f4fb4F30;

    bytes internal constant PLUG_CLAMP_FUSE_INITCODE =
        hex"60808060405234610016576104a3908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a57508063dc0aa2af146100455763e5c5e9a31461004057600080fd5b61020e565b610190565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103a5565b60405191829182610114565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60208082528251818301819052939260005b858110610166575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610126565b919082604091031261010f576020823592013590565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f57604080516004356020820152602435918101919091526100d2906100c681606081015b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081018352826102fa565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f576102606102689136906004016100e1565b81019061017a565b60408051928352602083019190915290f35b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761033b57604052565b6102cb565b92919267ffffffffffffffff821161033b576040519161038860207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f84011601846102fa565b82948184528183011161010f578281602093846000960137010152565b6103b19181019061017a565b919060408201926103cc6103c5858561027a565b3691610340565b6020815110610438576020015190808211610417575081116103f957506103f6916103c59161027a565b90565b6101e292506103f69150604051928391602083019190602083019252565b9150506101e292506103f69150604051928391602083019190602083019252565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fdfea164736f6c6343000812000a";

    bytes32 internal constant PLUG_CLAMP_FUSE_SALT =
        0x0000000000000000000000000000000000000000276e86120ef8ff3f9295b108;

    address internal constant PLUG_CLAMP_FUSE_ADDRESS =
        0x003906Ee5E50F9D8856B53E468739916AdA62340;

    bytes internal constant PLUG_FACTORY_INITCODE =
        hex"6080604052346200025e57620018b6803803806200001d8162000263565b9283398101906040818303126200025e5780516001600160a01b038116908190036200025e576020828101516001600160401b03939192918482116200025e570193601f918183870112156200025e5785518581116200023357601f19966200008c8286018916870162000263565b938285528683830101116200025e57859060005b838110620002495750506000918401015280638b78c6d8195560007f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08180a380519384116200023357600054926001938481811c9116801562000228575b828210146200021257838111620001c7575b50809285116001146200015d57508394509083929160009462000151575b50501b916000199060031b1c1916176000555b60405161162c90816200028a8239f35b0151925038806200012e565b9294849081166000805284600020946000905b88838310620001ac575050501062000192575b505050811b0160005562000141565b015160001960f88460031b161c1916905538808062000183565b85870151885590960195948501948793509081019062000170565b60008052816000208480880160051c82019284891062000208575b0160051c019085905b828110620001fb57505062000110565b60008155018590620001eb565b92508192620001e2565b634e487b7160e01b600052602260045260246000fd5b90607f1690620000fe565b634e487b7160e01b600052604160045260246000fd5b818101830151868201840152879201620000a0565b600080fd5b6040519190601f01601f191682016001600160401b03811183821017620002335760405256fe6080604052600436101561001257600080fd5b60003560e01c806301ffc9a71461019757806306fdde0314610192578063081812fc1461018d578063095ea7b31461018857806323b872dd14610183578063256929621461017e57806332c02a141461017957806342842e0e1461017457806354d1f13d1461016f57806355f804b31461016a5780636352211e1461016557806370a0823114610160578063715018a61461015b57806375fd9f28146101565780637ac4ed64146101515780638da5cb5b1461014c57806395d89b4114610147578063a22cb46514610142578063b88d4fde1461013d578063c87b56dd14610138578063e985e9c514610133578063f04e283e1461012e578063f2fde38b146101295763fee81cf41461012457600080fd5b61104e565b611012565b610fc2565b610f7d565b610ddb565b610d59565b610cd4565b610c7e565b610c2b565b610b6b565b610ad2565b610a70565b610a06565b61099a565b610815565b6106c9565b61067c565b61053f565b6104bd565b6104a9565b61038f565b6102c8565b61026e565b346101fc5760206003193601126101fc576004357fffffffff00000000000000000000000000000000000000000000000000000000811681036101fc5760209060e01c60405190635b5e139f8114906301ffc9a76380ac58cd82149114171715158152f35b600080fd5b60005b8381106102145750506000910152565b8181015183820152602001610204565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f604093602084526102678151809281602088015260208888019101610201565b0116010190565b346101fc5760006003193601126101fc576102c460405161028e81610753565b600b81527f506c7567205661756c7473000000000000000000000000000000000000000000602082015260405191829182610224565b0390f35b346101fc5760206003193601126101fc57600435806000527f7d8825530a5a2e7a000000000000000000000000000000000000000000000000601c526020600020810101805460601b1561033b576020906001015473ffffffffffffffffffffffffffffffffffffffff60405191168152f35b63ceea21b66000526004601cfd5b6004359073ffffffffffffffffffffffffffffffffffffffff821682036101fc57565b6024359073ffffffffffffffffffffffffffffffffffffffff821682036101fc57565b60406003193601126101fc576103a3610349565b60243573ffffffffffffffffffffffffffffffffffffffff918216600092828452337f7d8825530a5a2e7a00000000000000000000000000000000000000000000000017601c5260208420830183019081541690811561045a57829082331433151715610436575b600101557f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9258480a480f35b90508185526030600c20541561044d57829061040b565b634b6e7f1885526004601cfd5b63ceea21b685526004601cfd5b60031960609101126101fc5773ffffffffffffffffffffffffffffffffffffffff9060043582811681036101fc579160243590811681036101fc579060443590565b6104bb6104b536610467565b9161111b565b005b6000806003193601126105095763389a75e1600c523381526202a30042016020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d8280a280f35b80fd5b60031960409101126101fc5760043573ffffffffffffffffffffffffffffffffffffffff811681036101fc579060243590565b6105483661050c565b906000906040517fcc3735a920a3ca505d382bbc545af43d6000803e6038573d6000fd5b3d6000f36060527f5155f3363d3d373d3d363d7f360894a13ba1a3210667c828492db98dca3e207660405261600960205281601e5268603d3d8160223d3973600a52605f9360219385852060358401523060581b835260ff83538160158401526055832095341595873b1561065757505050846001946106515750600038818034895af1156106435784915b60405260006060528315610632575b5060408051841515815273ffffffffffffffffffffffffffffffffffffffff92909216602083015290f35b61063b92611484565b388281610607565b63b12d13eb6000526004601cfd5b916105f8565b9091955082965034f593841561066e5784916105f8565b63301164256000526004601cfd5b61068536610467565b61069081838561111b565b813b61069857005b60405191602083019383851067ffffffffffffffff8611176106c4576104bb946040526000845261126e565b610710565b6000806003193601126105095763389a75e1600c52338152806020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c928280a280f35b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b67ffffffffffffffff81116106c457604052565b6040810190811067ffffffffffffffff8211176106c457604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176106c457604052565b92919267ffffffffffffffff82116106c457604051916107f860207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116018461076f565b8294818452818301116101fc578281602093846000960137010152565b346101fc576020806003193601126101fc5767ffffffffffffffff906004358281116101fc57366023820112156101fc5761085a9036906024816004013591016107b0565b916108636110e3565b82519081116106c4576000916108828261087d855461132a565b61137d565b80601f83116001146108d8575082938293926108cd575b50507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8260011b9260031b1c191617815580f35b015190503880610899565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0831694610928600080527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56390565b9285905b87821061098257505083600195961061094b575b505050811b01815580f35b01517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60f88460031b161c19169055388080610940565b8060018596829496860151815501950193019061092c565b346101fc5760206003193601126101fc5773ffffffffffffffffffffffffffffffffffffffff600435806000527f7d8825530a5a2e7a000000000000000000000000000000000000000000000000601c5260206000208101015416801561033b57602090604051908152f35b346101fc5760206003193601126101fc57610a1f610349565b8015610a62577f7d8825530a5a2e7a000000000000000000000000000000000000000000000000601c52600052602063ffffffff601c600c205416604051908152f35b638f4eb6046000526004601cfd5b60008060031936011261050957610a856110e3565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a35580f35b346101fc5760206003193601126101fc576020610b63610af0610349565b90604051917fcc3735a920a3ca505d382bbc545af43d6000803e6038573d6000fd5b3d6000f36060527f5155f3363d3d373d3d363d7f360894a13ba1a3210667c828492db98dca3e2076604052616009602052601e5268603d3d8160223d3973600a52605f602120916040526000606052565b604051908152f35b346101fc57610bef610b7c3661050c565b91604051917fcc3735a920a3ca505d382bbc545af43d6000803e6038573d6000fd5b3d6000f36060527f5155f3363d3d373d3d363d7f360894a13ba1a3210667c828492db98dca3e2076604052616009602052601e5268603d3d8160223d3973600a52605f602120916040526000606052565b60ff6000536035523060601b60015260155260206055600020600060355273ffffffffffffffffffffffffffffffffffffffff60405191168152f35b346101fc5760006003193601126101fc5760207fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739275473ffffffffffffffffffffffffffffffffffffffff60405191168152f35b346101fc5760006003193601126101fc576102c4604051610c9e81610753565b600481527f504c554700000000000000000000000000000000000000000000000000000000602082015260405191829182610224565b346101fc5760406003193601126101fc57610ced610349565b602435908115158092036101fc5773ffffffffffffffffffffffffffffffffffffffff9181601c52670a5a2e7a0000000060085233600052806030600c205560005216337f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3160206000a3005b60806003193601126101fc57610d6d610349565b610d7561036c565b906044356064359267ffffffffffffffff8085116101fc57366023860112156101fc5784600401359081116101fc5736602482870101116101fc57610dbb83838661111b565b813b610dc357005b6104bb94610dd59160243692016107b0565b9261126e565b346101fc576020806003193601126101fc576040516080810160a08201604052600081527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600435915b0190600a90818106603001835304908115610e61577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90610e25565b905060807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0918281019303018252604051916000938454610ea18161132a565b90600190818116908115610f405750600114610ee3575b6102c486610ed78782610ecb8c8a61146d565b0390810183528261076f565b60405191829182610224565b90919550600080527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563906000915b838310610f2d5750505083019093019282610ecb610ed7610eb8565b8054878401890152918701918101610f11565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001684880152505080151502840101935082610ecb610ed7610eb8565b346101fc5760406003193601126101fc57610f96610349565b610f9e61036c565b601c52670a5a2e7a0000000060085260005260206030600c20546040519015158152f35b60206003193601126101fc57610fd6610349565b610fde6110e3565b63389a75e1600c52806000526020600c2090815442116110045760006104bb9255611081565b636f5e88186000526004601cfd5b60206003193601126101fc57611026610349565b61102e6110e3565b8060601b15611040576104bb90611081565b637448fbae6000526004601cfd5b346101fc5760206003193601126101fc57611067610349565b63389a75e1600c52600052602080600c2054604051908152f35b73ffffffffffffffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a355565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff7487392754330361110d57565b6382b429006000526004601cfd5b60008381527f7d8825530a5a2e7a0000000000000000000000000000000000000000000000003317601c9081526020822085018501805473ffffffffffffffffffffffffffffffffffffffff948516979695851694811680891481021561125a5750878452838260010180548033148b33141715611238575b611230575b505084881818905580600c207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff815401905582825280600c2060018154019163ffffffff831685021561121c5750957fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8593859361121a98995580a46113f9565b565b60049067ea553b3401336cea861560021b52fd5b558338611199565b9091506030600c20541561124e57908591611194565b600485634b6e7f188852fd5b8367ceea21b6a11481006004921560021b52fd5b9060a473ffffffffffffffffffffffffffffffffffffffff9460209460405196879563150b7a0287523388880152166040860152606085015260808085015280518091818060a0880152611316575b505001906000601c8401915af115611307575b517feaf485fe00000000000000000000000000000000000000000000000000000000016112f957565b63d1a57ed66000526004601cfd5b3d156112d0573d6000823e3d90fd5b818760c08801920160045afa5080386112bd565b90600182811c92168015611373575b602083101461134457565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b91607f1691611339565b601f8111611389575050565b6000908180527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563906020601f850160051c830194106113e3575b601f0160051c01915b8281106113d857505050565b8181556001016113cc565b90925082906113c3565b6040513d6000823e3d90fd5b73ffffffffffffffffffffffffffffffffffffffff80921691823b156101fc5760246000928360405195869485937ff2fde38b0000000000000000000000000000000000000000000000000000000085521660048401525af180156114685761145f5750565b61121a9061073f565b6113ed565b9061148060209282815194859201610201565b0190565b909173ffffffffffffffffffffffffffffffffffffffff80911691823b156101fc57604051937fc4d66de8000000000000000000000000000000000000000000000000000000008552306004860152600094858160248183895af1801561146857611610575b507f32c7564be3bbeabe66360c08d019367b0d744fcb948046d92552c00c9743dd1060208260601c9485946040519485521692a38183527f7d8825530a5a2e7a000000000000000000000000000000000000000000000000601c52602083208201820180548060601b6116035782179055808352601c600c2060018154019063ffffffff82168302156115ee57558181847fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8180a4813b156115ea57906024839260405194859384927ff2fde38b00000000000000000000000000000000000000000000000000000000845260048401525af180156114685761145f5750565b8280fd5b67ea553b3401336cea831560021b526004601cfd5b63c991cbb185526004601cfd5b6116199061073f565b386114ea56fea164736f6c6343000812000a";

    bytes32 internal constant PLUG_FACTORY_SALT =
        0x0000000000000000000000000000000000000000e26735f858eeff3f6079eaed;

    address internal constant PLUG_FACTORY_ADDRESS =
        0x009ecf9Aa0E27b6043A27d782548860E7325C30E;

    bytes internal constant PLUG_LIMITED_CALLS_FUSE_INITCODE =
        hex"6080806040523461001657610514908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a57508063deb21fa2146100455763e5c5e9a31461004057600080fd5b610209565b610179565b346100d9577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc6060813601126100dc5767ffffffffffffffff916004358381116100dc5761009c9036906004016100e0565b9190926024359485116100dc5760609085360301126100d9576100d56100c960443560048701858761038b565b60405191829182610113565b0390f35b80fd5b5080fd5b9181601f8401121561010e5782359167ffffffffffffffff831161010e576020838186019501011161010e57565b600080fd5b60208082528251818301819052939260005b858110610165575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610125565b3461010e5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010e57604051600435602082015260208152604081019080821067ffffffffffffffff831117610204577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc090826040526101ff8184610113565b030190f35b6102eb565b3461010e5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010e5760043567ffffffffffffffff811161010e5761026361025d60209236906004016100e0565b9061048e565b604051908152f35b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010e570180359067ffffffffffffffff821161010e5760200191813603831361010e57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b92919267ffffffffffffffff9182811161020457604051927fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f81601f8501160116840190848210908211176102045760405282948184528183011161010e578281602093846000960137010152565b906103989193929361048e565b903360005260006020526040600020906000526020526040600020908154917fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8314610489576001830190551115610405576103fb81604061040293019061029a565b369161031a565b90565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f506c75674c696d6974656443616c6c73467573653a6c696d69742d657863656560448201527f64656400000000000000000000000000000000000000000000000000000000006064820152fd5b61026b565b61049991369161031a565b60208151106104a9576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fdfea164736f6c6343000812000a";

    bytes32 internal constant PLUG_LIMITED_CALLS_FUSE_SALT =
        0x00000000000000000000000000000000000000008baa35008ef9ff3f9eb5d565;

    address internal constant PLUG_LIMITED_CALLS_FUSE_ADDRESS =
        0x00Da7f7c4AC115eD8CBC1073Ae64843DFd7a2071;

    bytes internal constant PLUG_NOUNS_ID_FUSE_INITCODE =
        hex"6080806040523461001657610571908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a57508063deb21fa2146100455763e5c5e9a31461004057600080fd5b61020a565b61017a565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103f7565b60405191829182610114565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60208082528251818301819052939260005b858110610166575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610126565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f57604051600435602082015260208152604081019080821067ffffffffffffffff831117610205577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc090826040526102008184610114565b030190f35b61026c565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761026461025e60209236906004016100e1565b906104eb565b604051908152f35b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761020557604052565b156102e357565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f4e6f756e73546f6b656e49643a696e76616c69642d6e6f756e2d6964000000006044820152fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161020557604051916103da60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116018461029b565b82948184528183011161010f578281602093846000960137010152565b90604051917f7d9f6db500000000000000000000000000000000000000000000000000000000835260c08360048173830bd73e4184cef73443c15111a1df14e495c7065afa9283156104df5760009361047b575b50610471926104616104789593610467936104eb565b146102dc565b6040810190610341565b3691610392565b90565b909260c0823d82116104d7575b8161049560c0938361029b565b810103126100d657815191608081015173ffffffffffffffffffffffffffffffffffffffff8116036100d95760a00151801515036100d657509161046761044b565b3d9150610488565b6040513d6000823e3d90fd5b6104f6913691610392565b6020815110610506576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fdfea164736f6c6343000812000a";

    bytes32 internal constant PLUG_NOUNS_ID_FUSE_SALT =
        0x00000000000000000000000000000000000000009241591eedd4ff3f07a7941e;

    address internal constant PLUG_NOUNS_ID_FUSE_ADDRESS =
        0x00014b3585E2EC28A672890532cC7B01749CBE40;

    bytes internal constant PLUG_NOUNS_TRAIT_FUSE_INITCODE =
        hex"60803461007457601f610ef638819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b031916919091179055604051610e6690816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe6040608081526004908136101561001557600080fd5b600091823560e01c806304f9e59d1461075957806311aecce2146105ff57806325692962146105b45780633c41e6c91461059757806354d1f13d1461055157806362ecde7914610534578063715018a6146104d35780637600a734146104b65780638da5cb5b14610462578063ad9de14514610445578063bceac72e1461034a578063c0e7feed14610323578063e5c5e9a3146102d6578063e6b1a3ae14610272578063f04e283e146101c7578063f2fde38b146101275763fee81cf4146100dc57600080fd5b34610123576020600319360112610123573573ffffffffffffffffffffffffffffffffffffffff811681036101235760209263389a75e1600c525281600c20549051908152f35b8280fd5b838260206003193601126101c35780359073ffffffffffffffffffffffffffffffffffffffff8216918281036101bf5761015f610a31565b60601b156101b457507fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b637448fbae8352601cfd5b8380fd5b5080fd5b838260206003193601126101c35780359073ffffffffffffffffffffffffffffffffffffffff8216918281036101bf576101ff610a31565b63389a75e1600c5283526020600c20908154421161026757508290557fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b636f5e88188452601cfd5b8382346101c35760206003193601126101c3573573ffffffffffffffffffffffffffffffffffffffff81168091036101c3576102ac610a31565b7fffffffffffffffffffffffff000000000000000000000000000000000000000082541617815580f35b5082346103205760206003193601126103205781359067ffffffffffffffff821161032057506103149161030c9136910161086a565b810190610a1b565b82519182526020820152f35b80fd5b509134610320576020600319360112610320575061034360209235610ab6565b9051908152f35b50823461032057826003193601126103205750803590610368610903565b820361039d575b508161039992519160208301526024358183015280825261038f82610776565b519182918261089d565b0390f35b6103a561098f565b82036103b1575b61036f565b6103b96109d5565b821461036f576103c761081e565b82146103ac576103d5610949565b82146103ac576104419083519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160609060208152601f60208201527f4e6f756e735472616974467573653a696e76616c69642d73656c6563746f720060408201520190565b0390fd5b5050346101c357816003193601126101c3576020906103436109d5565b5050346101c357816003193601126101c35760209073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff7487392754915191168152f35b5050346101c357816003193601126101c35760209061034361098f565b8380600319360112610320576104e7610a31565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a35580f35b5050346101c357816003193601126101c357602090610343610949565b83806003193601126103205763389a75e1600c52338152806020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c928280a280f35b5050346101c357816003193601126101c357602090610343610903565b83806003193601126103205763389a75e1600c523381526202a30042016020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d8280a280f35b509034610123576003196060813601126101bf5767ffffffffffffffff9083358281116106f457610633903690860161086a565b906024359184831161075557606083360394850112610755578161065c91610663930190610a1b565b9190610ab6565b036106f8577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdd604482013592018212156106f45701928301359081116101bf576024830181360381136106f0576106b982610a69565b936106c6845195866107dd565b82855260248336920101116106f0578161039995926020928387013784010152519182918261089d565b8480fd5b8580fd5b60648560208651917f08c379a0000000000000000000000000000000000000000000000000000000008352820152601c60248201527f4e6f756e735472616974467573653a696e76616c69642d7472616974000000006044820152fd5b8780fd5b5050346101c357816003193601126101c35760209061034361081e565b6060810190811067ffffffffffffffff82111761079257604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6080810190811067ffffffffffffffff82111761079257604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761079257604052565b604051602081019060208252601860408201527f6163636573736f72792875696e7432353620696e646578290000000000000000606082015260608152610864816107c1565b51902090565b9181601f840112156108985782359167ffffffffffffffff8311610898576020838186019501011161089857565b600080fd5b60208082528251818301819052939260005b8581106108ef575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b8181018301518482016040015282016108af565b604051602081019060208252601360408201527f686561642875696e7432353620696e6465782900000000000000000000000000606082015260608152610864816107c1565b604051602081019060208252601960408201527f6261636b67726f756e642875696e7432353620696e6465782900000000000000606082015260608152610864816107c1565b604051602081019060208252601660408201527f676c61737365732875696e7432353620696e6465782900000000000000000000606082015260608152610864816107c1565b604051602081019060208252601360408201527f626f64792875696e7432353620696e6465782900000000000000000000000000606082015260608152610864816107c1565b9190826040910312610898576020823592013590565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff74873927543303610a5b57565b6382b429006000526004601cfd5b67ffffffffffffffff811161079257601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b519065ffffffffffff8216820361089857565b60409081517f7d9f6db500000000000000000000000000000000000000000000000000000000815260c08160048173830bd73e4184cef73443c15111a1df14e495c7065afa908115610dee57600091610df9575b508251907ff0503e80000000000000000000000000000000000000000000000000000000008252600482015260a081602481739c8ff314c9bc7f6e59a9d9225fb22946427edc035afa8015610dee576000808080948194610d78575b50610b6f610903565b8603610c82575050505060009165ffffffffffff839216905b8451917fffffffff000000000000000000000000000000000000000000000000000000006020840192168252602483015260248252610bc682610776565b73ffffffffffffffffffffffffffffffffffffffff8354169151915afa903d15610c7a573d91610bf583610a69565b92610c02835194856107dd565b83523d6000602085013e5b15610c1d57506020815191012090565b606490517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602060248201527f4e6f756e735472616974467573653a74726169742d63616c6c2d6661696c65646044820152fd5b606091610c0d565b9091929350610c8f61098f565b8503610cab5750505060009165ffffffffffff83921690610b88565b90919250610cb76109d5565b8403610cd257505060009165ffffffffffff83921690610b88565b909150610cdd61081e565b8303610cf7575060009165ffffffffffff83921690610b88565b9050610d01610949565b8203610d1a5760009165ffffffffffff83921690610b88565b82517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f4e6f756e735472616974467573653a696e76616c69642d73656c6563746f72006044820152606490fd5b94509250505060a0823d8211610de6575b81610d9660a093836107dd565b810103126103205750610da881610aa3565b90610db560208201610aa3565b90610dc1858201610aa3565b90610dda6080610dd360608401610aa3565b9201610aa3565b93929190939238610b66565b3d9150610d89565b83513d6000823e3d90fd5b9060c0823d8211610e51575b81610e1260c093836107dd565b8101031261032057815191608081015173ffffffffffffffffffffffffffffffffffffffff8116036101c35760a0015180151503610320575038610b0a565b3d9150610e0556fea164736f6c6343000812000a";

    bytes32 internal constant PLUG_NOUNS_TRAIT_FUSE_SALT =
        0x0000000000000000000000000000000000000000cb9007a9fc70ff3f32e2fcfd;

    address internal constant PLUG_NOUNS_TRAIT_FUSE_ADDRESS =
        0x00701813B9d1FeE1FEE935C38cd7b58B28e774Bc;

    bytes internal constant PLUG_REVOCATION_FUSE_INITCODE =
        hex"6080806040523461001657610594908161001c8239f35b600080fdfe6040608081526004908136101561001557600080fd5b6000803560e01c8063108335b61461041e57806311aecce21461021a57806334e248531461014657806343b7af88146100d35763e5c5e9a31461005757600080fd5b346100d05760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100d05782359067ffffffffffffffff82116100d057506100c86100c060209473ffffffffffffffffffffffffffffffffffffffff9336910161049f565b81019061055b565b169051908152f35b80fd5b50903461014257807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101425760ff8160209373ffffffffffffffffffffffffffffffffffffffff610126610538565b1681528085528181206024358252855220541690519015158152f35b5080fd5b5090346101425760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101425761017f610538565b9073ffffffffffffffffffffffffffffffffffffffff815192166020830152602082528082019282841067ffffffffffffffff8511176101ee575090827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc092526101e981846104d2565b030190f35b806041867f4e487b71000000000000000000000000000000000000000000000000000000006024945252fd5b5091903461041a577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc6060813601126104165767ffffffffffffffff9083358281116103b15761026d903690860161049f565b90602435918483116104125760608336039485011261041257816102a89173ffffffffffffffffffffffffffffffffffffffff93019061055b565b16865285602052838620604435875260205260ff84872054166103b5577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdd604482013592018212156103b157019083820135918183116103b157602481019183360383136103ad578451957fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f81601f88011601168701918783109083111761038157508452828552602483369201011161037d57816103799592602092838701378401015251918291826104d2565b0390f35b8480fd5b8760416024927f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8680fd5b8580fd5b60648560208651917f08c379a0000000000000000000000000000000000000000000000000000000008352820152601a60248201527f506c75675265766f636174696f6e467573653a7265766f6b65640000000000006044820152fd5b8780fd5b8380fd5b8280fd5b5091903461041a57807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261041a576024359182151580930361041657338452836020528184209035845260205282209060ff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00835416911617905580f35b9181601f840112156104cd5782359167ffffffffffffffff83116104cd57602083818601950101116104cd57565b600080fd5b60208082528251818301819052939260005b858110610524575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b8181018301518482016040015282016104e4565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036104cd57565b908160209103126104cd573573ffffffffffffffffffffffffffffffffffffffff811681036104cd579056fea164736f6c6343000812000a";

    bytes32 internal constant PLUG_REVOCATION_FUSE_SALT =
        0x0000000000000000000000000000000000000000ee9dabc6abceff3f5df1ed1f;

    address internal constant PLUG_REVOCATION_FUSE_ADDRESS =
        0x002C7127277a583E7115720CbF676C2Ac5f36460;

    bytes internal constant PLUG_TIMESTAMP_FUSE_INITCODE =
        hex"6080806040523461001657610619908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a575080631323692a146100455763e5c5e9a31461004057600080fd5b610223565b610181565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103fc565b60405191829182610137565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60005b8381106101275750506000910152565b8181015183820152602001610117565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6040936020845261017a8151809281602088015260208888019101610114565b0116010190565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f576004356fffffffffffffffffffffffffffffffff808216820361010f57602435908116810361010f576100d291604051917fffffffffffffffffffffffffffffffff00000000000000000000000000000000809260801b16602084015260801b166030820152602081526100c6816102e4565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761027d61027760409236906004016100e1565b9061053d565b82516fffffffffffffffffffffffffffffffff928316815291166020820152f35b906102b160209282815194859201610114565b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761030057604052565b6102b5565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761030057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161030057604051916103df60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184610305565b82948184528183011161010f578281602093846000960137010152565b906104069161053d565b6fffffffffffffffffffffffffffffffff90811691166104f15742116104425761043861043f915b6040810190610346565b3691610397565b90565b6104ed6104666104bb6104536105d3565b61048f604051938492602084019061029e565b7f3a65787069726564000000000000000000000000000000000000000000000000815260080190565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610305565b6040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610137565b0390fd5b42106105035761043861043f9161042e565b6104ed6105146104bb6104536105d3565b7f3a6561726c790000000000000000000000000000000000000000000000000000815260060190565b91909161054b368483610397565b906010825110610575576010610565920151933691610397565b6020815110610575576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743132385f6f75744f66426f756e647300000000000000000000006044820152fd5b604051906105e0826102e4565b601182527f506c756754696d657374616d7046757365000000000000000000000000000000602083015256fea164736f6c6343000812000a";

    bytes32 internal constant PLUG_TIMESTAMP_FUSE_SALT =
        0x0000000000000000000000000000000000000000007a949fb1f6ff3f3ed89352;

    address internal constant PLUG_TIMESTAMP_FUSE_ADDRESS =
        0x0065b0d4f8350f32C542772457785534e335b867;

    bytes internal constant PLUG_TREASURY_INITCODE =
        hex"608080604052346100165761061f908161001c8239f35b600080fdfe6080604052600480361015610044575b5036156100425760003560e01c63bc197c81811463f23a6e6182141763150b7a0282141761003957005b6020526020603cf35b005b600090813560e01c90816325692962146104d557816354d1f13d1461048f578163715018a6146104495781638da5cb5b14610411578163b61d27f6146102fb578163c4d66de8146101f1578163f04e283e14610164578163f2fde38b146100e5575063fee81cf40361000f57346100e25760206003193601126100e2576100c9610520565b9063389a75e1600c5252602080600c2054604051908152f35b80fd5b90506020600319360112610160576100fb610520565b906101046105f5565b8160601b15610155575073ffffffffffffffffffffffffffffffffffffffff16638b78c6d8198181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b637448fbae8352601cfd5b5080fd5b8260206003193601126100e257610179610520565b6101816105f5565b63389a75e1600c528082526020600c2092835442116101e657508173ffffffffffffffffffffffffffffffffffffffff92935516638b78c6d8198181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b636f5e88188352601cfd5b9050346101605760206003193601126101605761020c610520565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffbf60113291825480600385556102ba575b505073ffffffffffffffffffffffffffffffffffffffff82911680638b78c6d81955837f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08180a3610289575080f35b6002905560016020527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2602080a180f35b60018181969593961c14303b10156102ef5773ffffffffffffffffffffffffffffffffffffffff93945060ff1b1b913861023a565b8463f92ee8a98552601cfd5b9050346101605760606003193601126101605781610317610520565b6044359067ffffffffffffffff821161040d573660238301121561040d578184013561034a610345826105bb565b610548565b818152602081019136602482870101116104095760208187969260248894018637830101526103776105f5565b5191602435905af13d15610404573d610392610345826105bb565b9081528360203d92013e5b156103a6575080f35b6064906020604051917f08c379a0000000000000000000000000000000000000000000000000000000008352820152601e60248201527f506c756754726561737572793a20657865637574696f6e206661696c656400006044820152fd5b61039d565b8580fd5b8280fd5b82346100e257806003193601126100e2576020638b78c6d8195473ffffffffffffffffffffffffffffffffffffffff60405191168152f35b82806003193601126100e25761045d6105f5565b80638b78c6d8198181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a35580f35b82806003193601126100e25763389a75e1600c52338152806020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c928280a280f35b82806003193601126100e25763389a75e1600c523381526202a30042016020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d8280a280f35b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361054357565b600080fd5b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f604051930116820182811067ffffffffffffffff82111761058c57604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b67ffffffffffffffff811161058c57601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b638b78c6d81954330361060457565b6382b429006000526004601cfdfea164736f6c6343000812000a";

    bytes32 internal constant PLUG_TREASURY_SALT =
        0x000000000000000000000000000000000000000028b26806baffff3f796506ed;

    address internal constant PLUG_TREASURY_ADDRESS =
        0x00EC991a53dEa376Fe0A7798aAc3F8E5cF5C9123;

    bytes internal constant PLUG_WINDOW_FUSE_INITCODE =
        hex"6080806040523461001657610cf4908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461009a57508063187ec818146100955780636158702c1461009057806361a769001461008b578063b8e9fccb14610086578063e8b27de414610081578063f395a30a1461007c5763f415fcb21461007757600080fd5b610626565b610530565b6104cd565b61039d565b610257565b61021c565b6101f6565b3461011b57606060031936011261011b576004359067ffffffffffffffff80831161011e573660238401121561011e5782600401359181831161011b57366024848601011161011b5760243591821161011b5761011761010b858560246101043660048901610122565b920161076d565b60405191829182610135565b0390f35b80fd5b5080fd5b908160609103126101305790565b600080fd5b60208082528251818301819052939260005b858110610187575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610147565b6024359063ffffffff8216820361013057565b60031960809101126101305763ffffffff60043581811681036101305791602435828116810361013057916044359081168103610130579060643560ff811681036101305790565b34610130576020610212610209366101ae565b92919091610c2a565b6040519015158152f35b3461013057602060031936011261013057602061021261020960043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b3461013057602060031936011261013057608060ff61029160043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b91906040949394519463ffffffff92838092168752166020860152166040840152166060820152f35b9060209182820190519280835283518092528060408094019401926000905b8382106102e857505050505090565b8451805163ffffffff908116885290840151168684015294850194938201936001909101906102d9565b9092919260408201604083528151809152606083019060608160051b850101906020809401926000905b85838310610356575050505063ffffffff91509416910152565b8061038e867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa08b6001969798990301865288516102ba565b9601920192019093929161033c565b34610130576040600319360112610130576103b661019b565b63ffffffff808216907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe06103fd6103f46103ef85610897565b6106c9565b93808552610897565b0160005b8181106104b257505061042f60043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b91929590959161044a610442858461090c565b86421661093e565b96858816935b848782161061046857604051806101178b8b83610312565b85816104aa8a61047a87878d97610af2565b6104a361049c6104938b61048e8989610985565b61099f565b63ffffffff1690565b80936109b4565b528b6109b4565b500116610450565b6020906104bd6106a4565b6060815282828701015201610401565b346101305760206003193601126101305760606104e86106a4565b5261011761051c61051460043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b929050610af2565b6040519182916020835260208301906102ba565b346101305761053e366101ae565b63ffffffff93919293908184169081156105fc5760ff169182156105d2578516106105a85764ffffffff0093610117926cffffffff00000000000000000068ffffffff000000000060405197889760081b169360281b169160481b16171717829190602083019252565b60046040517f9961524d000000000000000000000000000000000000000000000000000000008152fd5b60046040517f0d877899000000000000000000000000000000000000000000000000000000008152fd5b60046040517fbf2b27fa000000000000000000000000000000000000000000000000000000008152fd5b346101305760606003193601126101305760043563ffffffff811681036101305761064f61019b565b9060443560ff81168103610130576101179261051c92606061066f6106a4565b52610af2565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051906020820182811067ffffffffffffffff8211176106c457604052565b610675565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f604051930116820182811067ffffffffffffffff8211176106c457604052565b92919267ffffffffffffffff82116106c45761075060207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f850116016106c9565b938285528282011161013057816000926020928387013784010152565b61077891369161070d565b60208151106108395761020960206107ab92015160ff811663ffffffff90818360081c1691808460281c169360481c1693565b1561080f576040810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610130570180359067ffffffffffffffff82116101305760200181360381136101305761080c91369161070d565b90565b60046040517f3cb9a58a000000000000000000000000000000000000000000000000000000008152fd5b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fd5b67ffffffffffffffff81116106c45760051b60200190565b6108b76106a4565b9060608252565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b906201518063ffffffff8093160291821691820361090757565b6108be565b91909163ffffffff8080941691160291821691820361090757565b906201518063ffffffff8093160191821161090757565b91909163ffffffff8080941691160191821161090757565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b9063ffffffff80911691821561099a57160490565b610956565b9063ffffffff80911691821561099a57160690565b80518210156109c85760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b90610a046103ef83610897565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0610a328294610897565b016000805b828110610a445750505050565b604090815182810181811067ffffffffffffffff8211176106c45760209352838152828481830152828701015201610a37565b63ffffffff168015610907577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff63ffffffff8093160191821161090757565b63ffffffff918216908216039190821161090757565b9091610bd39350610b016108af565b90610b0c848461093e565b92620151808063ffffffff8097160494610b278787166109f7565b855287878216965b888116610b52610b47610b41846108ed565b8861093e565b868c82160690610adc565b90610b64610b60838a610bfb565b1590565b610bf457610ba7610ba2610bce938d808216908b1611600014610be657610b9d8a610b91868f5b516109b4565b519063ffffffff169052565b610927565b610aa8565b808c168b1015610bda57506020610bc186925b8b516109b4565b51019063ffffffff169052565b610a77565b8890610b2f565b610bc160209192610bba565b610b9d81610b91868f610b8b565b5050610a77565b63ffffffff91620151809083160482166004018281116109075760ff600760019482869516931606161c161490565b92919263ffffffff91824216938383168510610cbd5784610c4a91610bfb565b156105d257610c598285610adc565b83821615610caa5781610c73610c7e9493610c7893610985565b61090c565b9061093e565b928184168310159384610c93575b5050505090565b610c9f9293945061093e565b161138808080610c8c565b505092610cb891929361093e565b161190565b60046040517ff60555a4000000000000000000000000000000000000000000000000000000008152fdfea164736f6c6343000812000a";

    bytes32 internal constant PLUG_WINDOW_FUSE_SALT =
        0x0000000000000000000000000000000000000000e8d218ac73edff3f3d6115a1;

    address internal constant PLUG_WINDOW_FUSE_ADDRESS =
        0x0020c6D6D6f74161Ef9A5900D6d3e51bc5605426;

    bytes internal constant PLUG_INITCODE =
        hex"60808060405234610016576110e0908161001c8239f35b600080fdfe608060408181526004918236101561001657600080fd5b600092833560e01c91826306fdde03146106a457508163256929621461065957816354d1f13d1461061357816357f8dc5e14610561578163715018a6146105005781638da5cb5b146104ac57816395d89b411461044a578163f04e283e146103a2578163f2fde38b1461030c578163fe5aa422146100d4575063fee81cf41461009e57600080fd5b346100d05760206003193601126100d0576020916100ba610747565b9063389a75e1600c525281600c20549051908152f35b5080fd5b90506020806003193601126103085781359267ffffffffffffffff9485851161030557366023860112156103055784840135958611610305576024600594368289881b890101116103015794968296949396956101308261088a565b9661013d89519889610867565b828852601f19968761014e8561088a565b01865b8181106102f25750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9d81360301915b848110610252575050505050508451948286019383875285518095528382880192868a1b890101960197835b8685106101ba5788880389f35b9091929394877fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc08a83999a030186528a5190815180825283820190848082891b850101940192865b82811061022657505050505090806001929b019501950193989695949291906101ad565b91939580610240878c85600196989a030189528951610722565b970195019101918b9594939192610202565b85818d9b9d9c999a9c1b83010135838112156102ee576102818261027b8f938a90870101610998565b92611090565b5261028c818d611090565b507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81146102c3576001019a989a99979699610181565b85876011867f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8780fd5b60608b82018a01528801610151565b8280fd5b80fd5b8380fd5b839060206003193601126100d057610322610747565b9061032b610790565b8160601b15610397575073ffffffffffffffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b637448fbae8352601cfd5b836020600319360112610305576103b7610747565b6103bf610790565b63389a75e1600c528082526020600c20928354421161043f57508173ffffffffffffffffffffffffffffffffffffffff929355167fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b636f5e88188352601cfd5b919050346103015782600319360112610301576104a8925080519161046e8361081c565b82527f504c554700000000000000000000000000000000000000000000000000000000602083015251918291602083526020830190610722565b0390f35b5050346100d057816003193601126100d05760209073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff7487392754915191168152f35b838060031936011261030557610514610790565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a35580f35b9050826020916003199083823601126103015780359167ffffffffffffffff831161030857859083360301126103015761059b9101610998565b9083519280840190808552835180925280868601968360051b870101940192955b8287106105c95785850386f35b909192938280610603837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc08a600196030186528851610722565b96019201960195929190926105bc565b83806003193601126103055763389a75e1600c52338152806020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c928280a280f35b83806003193601126103055763389a75e1600c523381526202a30042016020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d8280a280f35b929150346103085783600319360112610308576104a893506106c58361081c565b82527f506c756700000000000000000000000000000000000000000000000000000000602083015251918291602083526020830190610722565b60005b8381106107125750506000910152565b8181015183820152602001610702565b90601f19601f602093610740815180928187528780880191016106ff565b0116010190565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361076a57565b600080fd5b359073ffffffffffffffffffffffffffffffffffffffff8216820361076a57565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739275433036107ba57565b6382b429006000526004601cfd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff218136030182121561076a570190565b3573ffffffffffffffffffffffffffffffffffffffff8116810361076a5790565b6040810190811067ffffffffffffffff82111761083857604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f601f19910116810190811067ffffffffffffffff82111761083857604052565b67ffffffffffffffff81116108385760051b60200190565b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18236030181121561076a57016020813591019167ffffffffffffffff821161076a578160051b3603831361076a57565b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18236030181121561076a57016020813591019167ffffffffffffffff821161076a57813603831361076a57565b601f8260209493601f19938186528686013760008582860101520116010190565b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc18236030181121561076a570190565b5a9081603f810204603f14821517156110615773ffffffffffffffffffffffffffffffffffffffff6109d560c06109cf84806107c8565b016107fb565b1633148015611035575b15610fd7576109f66109f182806107c8565b6107fb565b610a036109f183806107c8565b903b15610e5f575b604051917f1d277ac4000000000000000000000000000000000000000000000000000000008352604060048401528035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff218136030182121561076a579083916040604484015261016483019173ffffffffffffffffffffffffffffffffffffffff610a9883830161076f565b166084850152610aae81830160208101906108a2565b80919460e060a48801525261018490818601918160051b8701019480926000915b838310610cdb5750505050508101604081013560c4850152606081013560e4850152608081013561010485015260a0810135610124850152600094928492869273ffffffffffffffffffffffffffffffffffffffff928592610b7f92610b4f91908690610b3e9060c00161076f565b1661014486015260208101906108f5565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc858403016064860152610945565b603f60249a0260061c8a8301520393165af1908115610ccf57600091610ba6575b50905090565b3d8083833e610bb58183610867565b81019260208285031261030157815167ffffffffffffffff92838211610ccb570191601f91858385011215610ccb57835194610bf08661088a565b96610bfe6040519889610867565b86885260208089019760051b870101958187116103015760208101975b878910610c32575050505050505050508038610ba0565b8851868111610ccb57820183603f82011215610ccb576020810151878111610c9f5760405191610c6b6020601f198c8501160184610867565b8183528560408383010111610c9b5791610c90602094928594604086850191016106ff565b815201980197610c1b565b8680fd5b86867f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b8480fd5b6040513d6000823e3d90fd5b9193977ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe7c9088929496979803018352610d148883610966565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa1823603018235121561076a57610da9610d9e838035016040845273ffffffffffffffffffffffffffffffffffffffff610d6e8261076f565b166040850152610d8d60609160208101358387015260408101906108f5565b9091608086015260a0850191610945565b9260208101906108a2565b90916020818503910152808352602083019060208160051b85010193836000905b838210610df157505050505050602080600192990193019301909289979695949293610acf565b909192939495602080610e5183601f198860019603018a526040610e42610e188d89610966565b73ffffffffffffffffffffffffffffffffffffffff610e368261076f565b168452858101906108f5565b91909281868201520191610945565b980196019493920190610dca565b600073ffffffffffffffffffffffffffffffffffffffff81541673ffffffffffffffffffffffffffffffffffffffff600154169160408093604482610ea489806107c8565b01359184845196879485937f32c02a14000000000000000000000000000000000000000000000000000000008552600485015260248401525af1918215610fcb578192610f70575b505073ffffffffffffffffffffffffffffffffffffffff808416911603610f135750610a0b565b606490517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f506c75673a696e76616c69642d736f636b65742d6164647265737300000000006044820152fd5b9091508281813d8311610fc4575b610f888183610867565b810103126100d0578051801515036100d057602001519073ffffffffffffffffffffffffffffffffffffffff8216820361030557503880610eec565b503d610f7e565b508251903d90823e3d90fd5b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f506c75673a696e76616c69642d736f6c766572000000000000000000000000006044820152fd5b5073ffffffffffffffffffffffffffffffffffffffff61105a60c06109cf84806107c8565b16156109df565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b80518210156110a45760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea164736f6c6343000812000a";

    bytes32 internal constant PLUG_SALT =
        0x00000000000000000000000000000000000000004bff9a1c48fcff3f02613198;

    address internal constant PLUG_ADDRESS =
        0xDb3Bf1e7Fcc3476D9D00150FaA0039A7B795283F;

    /**
     * @notice Deploy (if needed) and return the PlugBaseFeeFuse contract instance.
     * @return $plugBaseFeeFuse The PlugBaseFeeFuse contract instance.
     */
    function plugBaseFeeFuse()
        internal
        returns (PlugBaseFeeFuse $plugBaseFeeFuse)
    {
        if (_extcodesize(PLUG_BASE_FEE_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_BASE_FEE_FUSE_SALT, PLUG_BASE_FEE_FUSE_INITCODE
            );
            require(
                reality == PLUG_BASE_FEE_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugBaseFeeFuse = PlugBaseFeeFuse(payable(PLUG_BASE_FEE_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugBlockNumberFuse contract instance.
     * @return $plugBlockNumberFuse The PlugBlockNumberFuse contract instance.
     */
    function plugBlockNumberFuse()
        internal
        returns (PlugBlockNumberFuse $plugBlockNumberFuse)
    {
        if (_extcodesize(PLUG_BLOCK_NUMBER_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_BLOCK_NUMBER_FUSE_SALT, PLUG_BLOCK_NUMBER_FUSE_INITCODE
            );
            require(
                reality == PLUG_BLOCK_NUMBER_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugBlockNumberFuse =
            PlugBlockNumberFuse(payable(PLUG_BLOCK_NUMBER_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugClampFuse contract instance.
     * @return $plugClampFuse The PlugClampFuse contract instance.
     */
    function plugClampFuse() internal returns (PlugClampFuse $plugClampFuse) {
        if (_extcodesize(PLUG_CLAMP_FUSE_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_CLAMP_FUSE_SALT, PLUG_CLAMP_FUSE_INITCODE);
            require(
                reality == PLUG_CLAMP_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugClampFuse = PlugClampFuse(payable(PLUG_CLAMP_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugFactory contract instance.
     * @return $plugFactory The PlugFactory contract instance.
     */
    function plugFactory() internal returns (PlugFactory $plugFactory) {
        if (_extcodesize(PLUG_FACTORY_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_FACTORY_SALT, PLUG_FACTORY_INITCODE);
            require(
                reality == PLUG_FACTORY_ADDRESS, "Etcher: Reality check failed"
            );
        }
        $plugFactory = PlugFactory(payable(PLUG_FACTORY_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugLimitedCallsFuse contract instance.
     * @return $plugLimitedCallsFuse The PlugLimitedCallsFuse contract instance.
     */
    function plugLimitedCallsFuse()
        internal
        returns (PlugLimitedCallsFuse $plugLimitedCallsFuse)
    {
        if (_extcodesize(PLUG_LIMITED_CALLS_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_LIMITED_CALLS_FUSE_SALT, PLUG_LIMITED_CALLS_FUSE_INITCODE
            );
            require(
                reality == PLUG_LIMITED_CALLS_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugLimitedCallsFuse =
            PlugLimitedCallsFuse(payable(PLUG_LIMITED_CALLS_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugNounsIdFuse contract instance.
     * @return $plugNounsIdFuse The PlugNounsIdFuse contract instance.
     */
    function plugNounsIdFuse()
        internal
        returns (PlugNounsIdFuse $plugNounsIdFuse)
    {
        if (_extcodesize(PLUG_NOUNS_ID_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_NOUNS_ID_FUSE_SALT, PLUG_NOUNS_ID_FUSE_INITCODE
            );
            require(
                reality == PLUG_NOUNS_ID_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugNounsIdFuse = PlugNounsIdFuse(payable(PLUG_NOUNS_ID_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugNounsTraitFuse contract instance.
     * @return $plugNounsTraitFuse The PlugNounsTraitFuse contract instance.
     */
    function plugNounsTraitFuse()
        internal
        returns (PlugNounsTraitFuse $plugNounsTraitFuse)
    {
        if (_extcodesize(PLUG_NOUNS_TRAIT_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_NOUNS_TRAIT_FUSE_SALT, PLUG_NOUNS_TRAIT_FUSE_INITCODE
            );
            require(
                reality == PLUG_NOUNS_TRAIT_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugNounsTraitFuse =
            PlugNounsTraitFuse(payable(PLUG_NOUNS_TRAIT_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugRevocationFuse contract instance.
     * @return $plugRevocationFuse The PlugRevocationFuse contract instance.
     */
    function plugRevocationFuse()
        internal
        returns (PlugRevocationFuse $plugRevocationFuse)
    {
        if (_extcodesize(PLUG_REVOCATION_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_REVOCATION_FUSE_SALT, PLUG_REVOCATION_FUSE_INITCODE
            );
            require(
                reality == PLUG_REVOCATION_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugRevocationFuse =
            PlugRevocationFuse(payable(PLUG_REVOCATION_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugTimestampFuse contract instance.
     * @return $plugTimestampFuse The PlugTimestampFuse contract instance.
     */
    function plugTimestampFuse()
        internal
        returns (PlugTimestampFuse $plugTimestampFuse)
    {
        if (_extcodesize(PLUG_TIMESTAMP_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_TIMESTAMP_FUSE_SALT, PLUG_TIMESTAMP_FUSE_INITCODE
            );
            require(
                reality == PLUG_TIMESTAMP_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugTimestampFuse =
            PlugTimestampFuse(payable(PLUG_TIMESTAMP_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugTreasury contract instance.
     * @return $plugTreasury The PlugTreasury contract instance.
     */
    function plugTreasury() internal returns (PlugTreasury $plugTreasury) {
        if (_extcodesize(PLUG_TREASURY_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_TREASURY_SALT, PLUG_TREASURY_INITCODE);
            require(
                reality == PLUG_TREASURY_ADDRESS, "Etcher: Reality check failed"
            );
        }
        $plugTreasury = PlugTreasury(payable(PLUG_TREASURY_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugWindowFuse contract instance.
     * @return $plugWindowFuse The PlugWindowFuse contract instance.
     */
    function plugWindowFuse()
        internal
        returns (PlugWindowFuse $plugWindowFuse)
    {
        if (_extcodesize(PLUG_WINDOW_FUSE_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_WINDOW_FUSE_SALT, PLUG_WINDOW_FUSE_INITCODE);
            require(
                reality == PLUG_WINDOW_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugWindowFuse = PlugWindowFuse(payable(PLUG_WINDOW_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the Plug contract instance.
     * @return $plug The Plug contract instance.
     */
    function plug() internal returns (Plug $plug) {
        if (_extcodesize(PLUG_ADDRESS) == 0) {
            address reality = _safeCreate2(PLUG_SALT, PLUG_INITCODE);
            require(reality == PLUG_ADDRESS, "Etcher: Reality check failed");
        }
        $plug = Plug(payable(PLUG_ADDRESS));
    }

    /**
     * @notice Deploys a contract via 0age's immutable create 2 factory for testing.
     * @param $salt The salt to use for the deployment.
     * @param $initializationCode The initialization code for the contract.
     * @return $deployment The address of the deployed contract.
     */
    function _safeCreate2(
        bytes32 $salt,
        bytes memory $initializationCode
    )
        private
        returns (address $deployment)
    {
        // Canonical address of 0age's immutable create 2 factory.
        address c2f = 0x0000000000FFe8B47B3e2130213B802212439497;
        if (_extcodesize(c2f) == 0) {
            bytes memory ic2fBytecode =
                hex"60806040526004361061003f5760003560e01c806308508b8f1461004457806364e030871461009857806385cf97ab14610138578063a49a7c90146101bc575b600080fd5b34801561005057600080fd5b506100846004803603602081101561006757600080fd5b503573ffffffffffffffffffffffffffffffffffffffff166101ec565b604080519115158252519081900360200190f35b61010f600480360360408110156100ae57600080fd5b813591908101906040810160208201356401000000008111156100d057600080fd5b8201836020820111156100e257600080fd5b8035906020019184600183028401116401000000008311171561010457600080fd5b509092509050610217565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b34801561014457600080fd5b5061010f6004803603604081101561015b57600080fd5b8135919081019060408101602082013564010000000081111561017d57600080fd5b82018360208201111561018f57600080fd5b803590602001918460018302840111640100000000831117156101b157600080fd5b509092509050610592565b3480156101c857600080fd5b5061010f600480360360408110156101df57600080fd5b508035906020013561069e565b73ffffffffffffffffffffffffffffffffffffffff1660009081526020819052604090205460ff1690565b600083606081901c33148061024c57507fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008116155b6102a1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260458152602001806107746045913960600191505060405180910390fd5b606084848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920182905250604051855195965090943094508b93508692506020918201918291908401908083835b6020831061033557805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090920191602091820191016102f8565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff018019909216911617905260408051929094018281037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00183528085528251928201929092207fff000000000000000000000000000000000000000000000000000000000000008383015260609890981b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016602183015260358201969096526055808201979097528251808203909701875260750182525084519484019490942073ffffffffffffffffffffffffffffffffffffffff81166000908152938490529390922054929350505060ff16156104a7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603f815260200180610735603f913960400191505060405180910390fd5b81602001825188818334f5955050508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161461053a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260468152602001806107b96046913960600191505060405180910390fd5b50505073ffffffffffffffffffffffffffffffffffffffff8116600090815260208190526040902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790559392505050565b6000308484846040516020018083838082843760408051919093018181037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe001825280845281516020928301207fff000000000000000000000000000000000000000000000000000000000000008383015260609990991b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000166021820152603581019790975260558088019890985282518088039098018852607590960182525085519585019590952073ffffffffffffffffffffffffffffffffffffffff81166000908152948590529490932054939450505060ff909116159050610697575060005b9392505050565b604080517fff000000000000000000000000000000000000000000000000000000000000006020808301919091523060601b6021830152603582018590526055808301859052835180840390910181526075909201835281519181019190912073ffffffffffffffffffffffffffffffffffffffff81166000908152918290529190205460ff161561072e575060005b9291505056fe496e76616c696420636f6e7472616374206372656174696f6e202d20636f6e74726163742068617320616c7265616479206265656e206465706c6f7965642e496e76616c69642073616c74202d206669727374203230206279746573206f66207468652073616c74206d757374206d617463682063616c6c696e6720616464726573732e4661696c656420746f206465706c6f7920636f6e7472616374207573696e672070726f76696465642073616c7420616e6420696e697469616c697a6174696f6e20636f64652ea265627a7a723058202bdc55310d97c4088f18acf04253db593f0914059f0c781a9df3624dcef0d1cf64736f6c634300050a0032";
            /// @solidity memory-safe-assembly
            assembly {
                let m := mload(0x40)
                mstore(m, 0xb4d6c782) // `etch(address,bytes)`.
                mstore(add(m, 0x20), c2f)
                mstore(add(m, 0x40), 0x40)
                let n := mload(ic2fBytecode)
                mstore(add(m, 0x60), n)
                for { let i := 0 } lt(i, n) { i := add(0x20, i) } {
                    mstore(
                        add(add(m, 0x80), i),
                        mload(add(add(ic2fBytecode, 0x20), i))
                    )
                }
                let vmAddress := 0x7109709ECfa91a80626fF3989D68f67F5b1DD12D
                if iszero(
                    call(
                        gas(),
                        vmAddress,
                        0,
                        add(m, 0x1c),
                        add(n, 0x64),
                        0x00,
                        0x00
                    )
                ) { revert(0, 0) }
            }
        }
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            let n := mload($initializationCode)
            mstore(m, 0x64e03087) // `safeCreate2(bytes32,bytes)`.
            mstore(add(m, 0x20), $salt)
            mstore(add(m, 0x40), 0x40)
            mstore(add(m, 0x60), n)
            // prettier-ignore
            for { let i := 0 } lt(i, n) { i := add(i, 0x20) } {
                mstore(
                    add(add(m, 0x80), i),
                    mload(add(add($initializationCode, 0x20), i))
                )
            }
            if iszero(call(gas(), c2f, 0, add(m, 0x1c), add(n, 0x64), m, 0x20))
            {
                returndatacopy(m, m, returndatasize())
                revert(m, returndatasize())
            }
            $deployment := mload(m)
        }
    }

    /**
     * @notice Determine and retrieve the extcodesize of `deployment`.
     * @param $deployment The address to check.
     * @return $result The size of the code at `deployment`.
     */
    function _extcodesize(address $deployment)
        private
        view
        returns (uint256 $result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            $result := extcodesize($deployment)
        }
    }
}
